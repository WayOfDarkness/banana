$(function(){var e=function(){var e=$(".js-river-upvote");if(!e||e.length<1){return false}PostRender.getPostRenderData("UserBundle",function(t,r){if($.isEmptyObject(r)){return}var n=r.riverUpvote;$.each(n,function(t,r){if(r>0){var n=e.filter('[data-post-render-value="'+t+'"]'),u=n.find(".js-upvote-count-value");u.text(r);n.removeClass("hide")}})});return true};e()});
(function(){"use strict";var n=$(document),e=38,t=40,o=37,i=39,f=65,r=66,c=13,d=[e,e,t,t,o,i,o,i,r,f],u=0;n.ready(function(){var e=$("#kCode"),t;if(!e||e.length<1){return}t=e.attr("content");if(t&&t.indexOf("/")===0){n.on("keydown",function(n){if(n.keyCode===d[u]){u++;if(u===d.length){window.location.href=t}}else{u=0}})}})})();
(function(){"use strict";var e=$(document),c=$(".js-search-close-btn"),n=$(".mhead-container"),o=$(".js-search-btn"),a=$(".mhead-search-hold.nav-mobile__search"),s=$(".search-input"),t=$("#site-wrapper");function i(){t.off("click",r);n.show();a.hide();c.hide();t.removeClass("search-overlay");s.blur()}function r(e){e.preventDefault();i()}$(function(){o.click(function(e){t.on("click",r);e.preventDefault();n.hide();a.show();c.show();t.addClass("search-overlay");s.focus()});c.click(function(e){e.preventDefault();i()});e.on("keydown",function(e){if(e.keyCode===27){i()}})})})();
$(function(){function t(){if($(".js-content-entity-body").first().children("p").not(":empty").length>=4){$(".newsletter-subscribe-box").show()}}t()});
$(function(){var e=$.parseJSON($("#meta-affiliate").attr("content"));if(e){e.forEach(function(e){var r=new RegExp(e.regex);var t=e.url;var n=$(".js-content-entity-body a");for(var a in n){var f=n[a];if(r.test(f.href)){f.href=t+encodeURIComponent(f.href)}}})}});